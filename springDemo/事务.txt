
为什么要有事务
保持数据的一致性
代码执行出现异常，数据回滚

事务的特性
原子性：多线程中的同步
一致性：银行转账，A减钱，B加钱
隔离性：多线程同时操作事务，互不受影响
持久性：保存到数据库后永久保存

事务在service层，service层调多个dao层，可对事务进行统一管理

声明式事务----xml方式和注解方式
1.什么时候提交事务？
在方法结束后提交事务
2.什么时候回滚
抛异常的时候会回滚
如果代码中有try。。。catch时，必须手动设置回滚---不然默认不走回滚
TransactionAspectSupport.currentTransactionStatus().setRollbackOnly();

Spring事务传播行为
事务嵌套，事务里面有事务，该怎么执行
